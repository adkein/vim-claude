*claude.txt*  Integrate Claude AI into Vim

                    VIM-CLAUDE DOCUMENTATION

Author:  Your Name
License: MIT
Version: 0.1.0

==============================================================================
CONTENTS                                                      *claude-contents*

    1. Introduction ............................ |claude-introduction|
    2. Installation ............................ |claude-installation|
    3. Usage ................................... |claude-usage|
    4. Session Management ...................... |claude-sessions|
    5. Configuration ........................... |claude-configuration|
    6. Commands ................................ |claude-commands|
    7. Mappings ................................ |claude-mappings|
    8. Troubleshooting ......................... |claude-troubleshooting|

==============================================================================
INTRODUCTION                                              *claude-introduction*

vim-claude is a plugin that integrates Claude AI directly into Vim using
Claude Code CLI. Select text, provide a prompt, and get AI-powered assistance
for explaining, modifying, or refactoring code - all covered by your existing
Claude subscription!

Features:
  - Async processing with animated progress indicator
  - Persistent conversation sessions across all requests in same Vim session
  - Claude remembers context from previous interactions
  - Prevents multiple concurrent requests to avoid confusion

==============================================================================
INSTALLATION                                              *claude-installation*

Prerequisites:
  - Claude Code installed and accessible via CLI
  - Active Claude subscription (Pro or Max)

Using Pathogen:
>
    cd ~/.vim/bundle
    git clone https://github.com/yourusername/vim-claude.git
<

No additional configuration needed!

==============================================================================
USAGE                                                            *claude-usage*

Visual mode (selected text):
  1. Select text in visual mode
  2. Press <Leader>c
  3. Enter your prompt
  4. Wait while animated spinner shows progress
  5. Choose action: (r)eplace or (s)how

Normal mode (whole file):
  1. In normal mode (no selection)
  2. Press <Leader>c
  3. Enter your prompt
  4. Wait while animated spinner shows progress
  5. Choose action: (r)eplace entire file or (s)how in split

Quick actions:
  Visual mode: <Leader>cr / <Leader>cs - Replace/split selected text
  Normal mode: <Leader>cr / <Leader>cs - Replace/split entire file

Note: You cannot start a new request while one is already processing.

All requests in the same Vim session share conversation context. Claude
remembers previous interactions, allowing for follow-up questions.

==============================================================================
SESSION MANAGEMENT                                            *claude-sessions*

The plugin maintains a persistent conversation session across all requests
in the same Vim session using Claude Code's -c (continue) flag.

This means:
  - Claude remembers all previous interactions
  - You can ask follow-up questions
  - You can reference earlier discussions
  - Context is maintained throughout your editing session

Multi-File Context:
  When using normal mode prompts, each buffer is sent only once per session.
  This saves tokens while allowing Claude to synthesize across multiple files.

  Example workflow:
    - Open file1.py, press <Leader>cs → Sends entire file1.py
    - Open file2.py, press <Leader>cs → Sends entire file2.py
    - Back to file1.py, press <Leader>cs → Just sends prompt (Claude has both)
    - After editing file1.py, use :ClaudeResendFile to update Claude's context

Commands:
  :ClaudeNewSession  - Start fresh (next request won't use -c flag)
  :ClaudeResendFile  - Mark current buffer to resend on next normal mode prompt

==============================================================================
CONFIGURATION                                            *claude-configuration*

                                                              *g:claude_model*
g:claude_model~
    The Claude model to use for requests.
    Options: 'sonnet', 'opus', 'haiku'
    Default: 'sonnet'

                                                        *g:claude_cli_command*
g:claude_cli_command~
    Path to the Claude CLI command.
    Default: 'claude'

                                                *g:claude_no_default_mappings*
g:claude_no_default_mappings~
    Set to 1 to disable default key mappings.
    Default: 0

==============================================================================
MAPPINGS                                                      *claude-mappings*

Visual Mode Mappings (selected text):

                                                            *<Plug>ClaudePrompt*
<Plug>ClaudePrompt
    Process the current visual selection with Claude (interactive mode).
    Default mapping: <Leader>c (in visual mode)

                                                      *<Plug>ClaudePromptReplace*
<Plug>ClaudePromptReplace
    Process the current visual selection and replace with Claude's response.
    Default mapping: <Leader>cr (in visual mode)

                                                       *<Plug>ClaudePromptSplit*
<Plug>ClaudePromptSplit
    Process the current visual selection and show in split window.
    Default mapping: <Leader>cs (in visual mode)

Normal Mode Mappings (whole file):

                                                        *<Plug>ClaudeFilePrompt*
<Plug>ClaudeFilePrompt
    Process the entire current file with Claude (interactive mode).
    Default mapping: <Leader>c (in normal mode)

                                                  *<Plug>ClaudeFilePromptReplace*
<Plug>ClaudeFilePromptReplace
    Process the entire file and replace with Claude's response.
    Default mapping: <Leader>cr (in normal mode)

                                                   *<Plug>ClaudeFilePromptSplit*
<Plug>ClaudeFilePromptSplit
    Process the entire file and show response in split window.
    Default mapping: <Leader>cs (in normal mode)

==============================================================================
COMMANDS                                                      *claude-commands*

                                                          *:ClaudeNewSession*
:ClaudeNewSession
    Start a new conversation session. Resets the continue flag so the next
    request starts fresh. Also clears buffer tracking.

                                                          *:ClaudeResendFile*
:ClaudeResendFile
    Mark the current buffer to be resent on the next normal mode prompt.
    Use this after making edits to ensure Claude sees your changes.

==============================================================================
TROUBLESHOOTING                                        *claude-troubleshooting*

If you encounter issues:

  1. Verify Claude CLI is available: claude --version
  2. Make sure you're logged into Claude Code
  3. Check the plugin loaded: :scriptnames
  4. Test Claude CLI directly: claude "test prompt"

==============================================================================
vim:tw=78:ts=8:ft=help:norl:
